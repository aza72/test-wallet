# test-wallet

Тестовое задание: Разработка консольного приложения "Личный финансовый кошелек"
Цель: Создать приложение для учета личных доходов и расходов.
Основные возможности:
1. Вывод баланса: Показать текущий баланс, а также отдельно доходы и расходы.
2. Добавление записи: Возможность добавления новой записи о доходе или расходе.
3. Редактирование записи: Изменение существующих записей о доходах и расходах.
4. Поиск по записям: Поиск записей по категории, дате или сумме.
Требования к программе:
1. Интерфейс: Реализация через консоль (CLI), без использования веб- или графического интерфейса (также без использования фреймворков таких как Django, FastAPI, Flask  и тд).
2. Хранение данных: Данные должны храниться в текстовом файле. Формат файла определяется разработчиком.
3. Информация в записях: Каждая запись должна содержать дату, категорию (доход/расход), сумму, описание (возможны дополнительные поля).
Будет плюсом:
1. Аннотации: Аннотирование функций и переменных в коде.
2. Документация: Наличие документации к функциям и основным блокам кода.
3. Описание функционала: Подробное описание функционала приложения в README файле.
4. GitHub: Размещение кода программы и примера файла с данными на GitHub.
5. Тестирование.
6. Объектно-ориентированный подход программирования.

#Функционал программы

В главно меню имеется 4 пункта, пользователь выбирает один путем ввода соответствующего пункта. 
1. Узнать баланс:
   Выводит баланс пользователя путем разности доходов и расходов которые пользователь вводил ранее. Так же выводятся все доходы и расходы общей суммой. Баланс может быть отрицательным.
2. Добавить новую запись:
   Данный пункт ведет к интерфейсу добавление новой записи путем ввода данных в консоль. Первое что необходимо выбрать это категорию ввод: "1"-"доходы", "2"-"расходы".
   После ввода категории необходимо ввести дату в заданном формате.Важно соблюдать формат ввода даты так как программа не проверяет формат это необходимо что бы при поиске записей не 
   возникли ошибки.
   Далее вводится сумма операции в числовом формате
   Последним вводиться пункт описание операции. Ввод возможен в произвольной форме
3. Поиск по записям (удаление,редактирование):
   Здесь ведется поиск записей для редактирования и удаления.Так же как и в первом пункте необходимо выбрать категорию  ввод: "1"-"доходы", "2"-"расходы", дату в заданном формате,сумму 
   операции, описание не заполняеться так как поиск по этому параметру не ведется. Заполняються только те пункты по которым Вы собираетесь производить поиск, не нужные пункты можно 
   пропустить путем пустого ввода.После того как вы ввели критерии поиска программа выдает вам записи которые соответсвуют заданным значениям и контекстное меню с дальнейшипи действиями. 

   При выборе "Удалить запись"  введите ID записи которую вы хотите удалить. ID виден в результате поиска.После чего запись удалиться из файла.При выборе "Редактировать запись" так же 
   введите ID как и при удалении записи.Происходит тот же запрос данных что и при поиске. Так же необходимо заполнять только те пункты которые вы хотите изменить, те которые не подлежат 
   изменению пропускаются.Пункт "Выйти" возвращает программу в главное меню
4. Этот пункт завершает программу.   
      

#Документация кода

Программа основана на классе Wallet в котором реализованы необходимые методы для работы программы. Данные храняться в файле "data.txt" в формате Json.

Метод "def open_file(self)" получает доступ к полю file(путь к текстовому файлу) экземпляра класса Wallet и считывает Json данные из текстового файла. После считывания записывает данные в переменную "data". Если файл "data.txt" пуст создается словарь "data". Функция возвращает переменную "data".

Метод "def record_file(self,data:Dict[int, Dict[str,str]])" принимает в качестве аргумента "data"(Словарь с данными), открывает "data.txt" и производит запись словаря в "data.txt". Если возникает исключение выводит сообщение об ошибке.

Метод "def delete_record(self, file:Dict[int, Dict[str,str]], id_delete:int)" принимает в качестве аргументов словарь с данными "file" и ID записи "id_delete" которую необходимо удалить. Удаляет запись из словаря "file" и записывает в "data.txt". Если возникает исключение выводит сообщение об ошибке.

Метод "def editing_record(self,file:Dict[int, Dict[str,str]], id_editing:int, add:Dict[str,str])" функция принимает в качестве аргументов словарь с данными "file" и ID записи "id_editing" которую необходимо изменить, и словарь с данными "add" которые пользователь вводил для изменения записи. Функция выбирает запись из данных "file" по ID, изменяет необходимые поля, добавляет запись обратно в "file" и возвращает данные.

Метод "def create_operation(self, data:Dict[int, Dict[str,str]], category:str,date:str,summ:str,description:str)" принимает в качестве аргументов словарь с данными "data", строки введенные от пользователя: category,date,summ,description и создает из строк словарь, после чего возвращает его. Словарь с данными "data" необходит для определения колличества записей и использование этих данных для присвоения id для новой записи путем прибавления +1. 

Метод "def search_record(self, data:Dict[int, Dict[str,str]], category:str, date:str, summ:str)" принимает в качестве аргументов словарь с данными "data", строки введенные от пользователя: category,date,summ введенные от пользователя при поиске записей. Производит поиск совпадений строк со значениями в словаре "data". Функция возвращает список ID записей в которых нашлось совпадение.

Метод "def show_balance(self,data)" принимает в качестве аргументов словарь с данными "data", и выводит сообщение о балансе пользователя, доходах, и расходах.

Метод "def show_record(self, data:Dict[int, Dict[str,str]], index_change:List[str])" принимает в качестве аргументов словарь с данными "data", список индеков "index_change" записей которые необходимо отобразить. Отображает записи в консоли.

Метод "def input_record(self)" принимает ввод от пользователя для создания записи, создает и возвращает словари вида:{'category':category,'date':date,'summ':summ,'description':description}


Данный класс возможно доработать путем удаления из методов пользовательского ввода и вывода в консоль. Добавить дополнительное тестирование. Добавить дополнительные поля в класс при помощи декоратора.















